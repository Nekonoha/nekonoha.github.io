import { ref, computed } from 'vue'

export type Locale = 'ja' | 'en'

const currentLocale = ref<Locale>('ja')

const translations = {
  ja: {
    header: { 
      top: 'TOP', 
      about: 'ABOUT', 
      works: 'WORKS'
    },
    index: { 
      title: '針の筵', 
      subtitle: '趣味で色々作ってるサイト', 
      about: 'ABOUT', 
      works: 'WORKS',
      loading: 'ロード中',
      loadingHint: '入口を準備しています…',
      enterPrompt: '入る',
      enterHint: 'Enterキーでも入れます'
    },
    works: {
      title: 'WORKS',
      games: 'ゲーム',
      fanGames: 'ファンゲーム',
      music: '音楽',
      musicDescription: 'SoundCloudにいくつか公開しています。',
      twitterDescription: '最新のツイートをチェックできます。',
      visitTwitter: 'Twitterで見る',
      visitSoundcloud: 'SoundCloudで聴く',
      shop: 'Shop',
      shopDescription: 'BOOTHで販売物を掲載しています。',
      social: 'SNS / ショップ',
      socialDescription: 'SNSやブログで活動しています。'
    },
    about: { 
      title: 'ABOUT', 
      intro: 'ネコノハです。', 
      description: 'エンジニア。趣味で絵とか3Dモデルとかゲームとか音楽とか作ってます。', 
      hobbies: '好きなもの・趣味', 
      hobby1: 'フリーホラーゲーム', 
      hobby2: '漫画・映画・ゲーム', 
      hobby3: 'イラスト', 
      hobby4: 'DTM', 
      contact: '連絡先', 
      twitter: 'Twitter: @tan_fantazma' 
    },
    product: { 
      title: 'PRODUCT', 
      games: 'Fan Games', 
      playBoard: 'Play Board', 
      visualTool: 'Visual Tool', 
      trial: 'TRIAL', 
      unrequited: 'UnRequited', 
      shop: '販売物など', 
      booth: 'Booth', 
      music: 'Music', 
      musicDescription: 'SoundCloudで音楽を公開しています。', 
      soundcloudLink: 'SoundCloudで聴く' 
    },
    link: { 
      title: 'LINK', 
      twitter: 'Twitter', 
      twitterDescription: '@tan_fantazma でツイートしています。', 
      blog: 'ブログ', 
      blogDescription: '日記や制作物についてのブログです。', 
      pixiv: 'pixiv', 
      pixivDescription: 'イラストや漫画を投稿しています。', 
      booth: 'Booth', 
      boothDescription: '販売物を掲載しています。' 
    },
    trial: { 
      title: 'TRIAL', 
      description: 'ゆめにっきの二次創作ゲームです。', 
      gameInfo: '作品情報',
      effectCount: '現在の実装エフェクト数は',
      effectTotal: '22/28個',
      edCount: 'EDは現在',
      edTotal: '6/8個',
      implemented: '実装されています',
      period: '。',
      howToPlay: '遊び方',
      gameplay1: '夢の中を歩き回るゲームです。',
      gameplay2: 'ベッドを調べると夢に入ることが出来ます。',
      gameplay3: 'セーブは机のパソコンから。',
      gameplay4: '夢の中で特定のオブジェクトを調べることで、落し物（エフェクト）を入手することができます。',
      controls: '操作方法', 
      move: '移動', 
      moveKey: '方向キー、またはテンキー', 
      decide: '決定', 
      decideKey: 'Zキー、スペースキー、またはエンターキー', 
      cancel: 'キャンセル、メニュー', 
      cancelKey: 'Xキー、またはEscキー', 
      favorite: 'お気に入りエフェクト', 
      favoriteKey: 'サブキー（Cキー、Shiftキー）', 
      action: 'エフェクト動作', 
      actionKey: 'Aキー', 
      release: 'エフェクト解除', 
      releaseKey: 'Sキー、またはエフェクトを再選択', 
      discard: 'エフェクト廃棄', 
      discardKey: '扉部屋でDキー', 
      screenshots: 'SS', 
      download: 'ダウンロード', 
      downloadText: '現在の最新バージョンは',
      version: '0.8.0 a',
      versionSuffix: 'となっております。',
      downloadLink: 'ダウンロードは下のリンクから。',
      downloadButton: 'ver.0.8.0a' 
    },
    unrequited: { 
      title: 'UnRequited', 
      description: 'ゆめにっきの二次創作ゲームです。', 
      gameInfo: '作品情報',
      effectCount: '現在の実装エフェクト数は',
      effectTotal: '14/18個',
      edCount: 'EDは現在',
      edTotal: '0/0個',
      implemented: '実装されています',
      period: '。',
      howToPlay: '遊び方',
      gameplay1: '夢の中を歩き回るゲームです。',
      gameplay2: 'ベッドを調べると夢に入ることが出来ます。',
      gameplay3: 'セーブは机のパソコンから。',
      gameplay4: '夢の中で特定のオブジェクトを調べることで、Scar（エフェクト）を入手することができます。',
      controls: '操作方法', 
      move: '移動', 
      moveKey: '方向キー、またはテンキー', 
      decide: '決定', 
      decideKey: 'Zキー、スペースキー、またはエンターキー', 
      cancel: 'キャンセル、メニュー', 
      cancelKey: 'Xキー、またはEscキー', 
      favorite: 'お気に入りエフェクト', 
      favoriteKey: 'Fキー', 
      action: 'エフェクト動作', 
      actionKey: 'サブキー（Cキー、Shiftキー）', 
      release: 'エフェクト解除', 
      releaseKey: 'Aキー、またはエフェクトを再選択', 
      discard: 'エフェクト廃棄', 
      discardKey: '未実装', 
      screenshots: 'SS', 
      download: 'ダウンロード', 
      downloadTextJp: '現在の最新バージョンは日本語版',
      downloadTextEn: '現在の最新バージョンは英語版',
      versionJp: '0.0.6 a',
      versionEn: '0.0.4 b ENG',
      versionSuffix: 'となっております。',
      downloadLink: 'ダウンロードは下のリンクから。',
      downloadButtonJp: 'ver.0.0.6a', 
      downloadButtonEn: 'ver.0.0.4b ENG',
      englishVersion: 'English version is here.' 
    },
    footer: { 
      copyright: '© 2011 Nekonoha. All rights reserved.' 
    },
    gallery: { 
      title: 'GALLERY', 
      twitter: 'Twitter', 
      pixiv: 'pixiv', 
      pixivDescription: 'イラストや漫画を投稿しています。', 
      visitPixiv: 'pixivで見る', 
      soundcloud: 'SoundCloud', 
      soundcloudDescription: '音楽を公開しています。' 
    },
    playBoard: {
      description: 'オンラインのボードゲームプラットフォーム。Hexxagonなどを友だちとリアルタイムで遊べます。'
    },
    settings: {
      title: '設定',
      theme: 'テーマ',
      themes: {
        luxury: 'ラグジュアリー',
        light: 'ライト',
        dark: 'ダーク',
        modern: 'モダン',
        system: 'システム',
        cyber: 'サイバー',
        forest: 'フォレスト',
        sunset: 'サンセット',
        lavender: 'ラベンダー',
        ocean: 'オーシャン',
        aurora: 'オーロラ',
        blush: 'ブラッシュ',
        mint: 'ミント',
        midnight: 'ミッドナイト',
        sunrise: 'サンライズ',
        ember: 'エンバー',
        sakura: 'さくら',
        lagoon: 'ラグーン',
        golden: 'ゴールデン'
      },
      themeDescriptions: {
        system: 'OS設定に追従',
        luxury: '重厚なブラウンとゴールド',
        light: '明るいアイボリーと茶のコントラスト',
        dark: '夜を思わせる群青と紫',
        modern: 'ネオン寄りのダークシアン',
        cyber: '黒にネオングリーン＆マゼンタ',
        forest: '深い森のグリーン',
        sunset: '夕焼けの暖色グラデーション',
        lavender: '紫基調のやわらかい配色',
        ocean: '深海ブルーとシアン',
        aurora: '夜空に浮かぶグリーンとパープル',
        blush: 'スモーキーピンクとローズ',
        mint: 'フレッシュなミントグリーン',
        midnight: 'ミッドナイトブルーと薄明かり',
        sunrise: '朝焼けのオレンジと琥珀',
        ember: '焚き火のアンバーと炭色',
        sakura: '桜色のやさしいピンク',
        lagoon: 'ラグーンブルーとエメラルド',
        golden: '重厚なゴールドと焦茶'
      },
      light: 'ライト',
      dark: 'ダーク',
      modern: 'モダン',
      system: 'システム',
      currentTheme: '現在のテーマ',
      moreThemes: 'その他のテーマを開く',
      hideThemes: 'その他のテーマを閉じる',
      language: '言語',
      fontSize: 'フォントサイズ',
      motion: 'アニメーション',
      reduceMotion: 'アニメーションを減らす',
      reset: '設定をリセット',
      confirmReset: '設定をリセットしますか？'
    }
  },
  en: {
    header: { 
      top: 'TOP', 
      about: 'ABOUT', 
      works: 'WORKS'
    },
    index: { 
      title: 'Hari no Mushiro', 
      subtitle: 'Personal hobby site for creative works', 
      about: 'ABOUT', 
      works: 'WORKS',
      loading: 'Loading',
      loadingHint: 'Preparing the entrance...',
      enterPrompt: 'Enter',
      enterHint: 'Press Enter to begin'
    },
    works: {
      title: 'WORKS',
      games: 'Games',
      fanGames: 'Fan Games',
      music: 'Music',
      musicDescription: 'A few tracks are available on SoundCloud.',
      twitterDescription: 'Latest updates on Twitter.',
      visitTwitter: 'Open Twitter profile',
      visitSoundcloud: 'Open SoundCloud',
      shop: 'Shop',
      shopDescription: 'Products available on BOOTH.',
      social: 'Social / Stores',
      socialDescription: 'Follow me on social media and read my blog.'
    },
    about: { 
      title: 'ABOUT', 
      intro: 'I\'m Nekonoha.', 
      description: 'Engineer. I make illustrations, 3D models, games, and music as a hobby.', 
      hobbies: 'Likes & Hobbies', 
      hobby1: 'Free horror games', 
      hobby2: 'Manga, Movies & Games', 
      hobby3: 'Illustration', 
      hobby4: 'DTM', 
      contact: 'Contact', 
      twitter: 'Twitter: @tan_fantazma' 
    },
    product: { 
      title: 'PRODUCT', 
      games: 'Fan Games', 
      playBoard: 'Play Board', 
      visualTool: 'Visual Tool', 
      trial: 'TRIAL', 
      unrequited: 'UnRequited', 
      shop: 'Shop', 
      booth: 'Booth', 
      music: 'Music', 
      musicDescription: 'I share my music on SoundCloud.', 
      soundcloudLink: 'Listen on SoundCloud' 
    },
    link: { 
      title: 'LINK', 
      twitter: 'Twitter', 
      twitterDescription: 'Follow @tan_fantazma', 
      blog: 'Blog', 
      blogDescription: 'My diary and project blog.', 
      pixiv: 'pixiv', 
      pixivDescription: 'Illustrations and manga.', 
      booth: 'Booth', 
      boothDescription: 'Shop for my products.' 
    },
    trial: { 
      title: 'TRIAL', 
      description: 'A fan game based on Yume Nikki.', 
      gameInfo: 'Game Information',
      effectCount: 'Current effect count:',
      effectTotal: '22/28',
      edCount: 'ED count:',
      edTotal: '6/8',
      implemented: 'implemented',
      period: '.',
      howToPlay: 'How to Play',
      gameplay1: 'This is a game where you walk around in a dream.',
      gameplay2: 'You can enter the dream by examining the bed.',
      gameplay3: 'You can save from the computer on the desk.',
      gameplay4: 'You can get items (effects) by examining specific objects in the dream.',
      controls: 'Controls', 
      move: 'Move', 
      moveKey: 'Arrow Keys or Numpad', 
      decide: 'Decide', 
      decideKey: 'Z Key, Space Key, or Enter Key', 
      cancel: 'Cancel, Menu', 
      cancelKey: 'X Key or Esc Key', 
      favorite: 'Favorite Effect', 
      favoriteKey: 'Sub Key (C Key, Shift Key)', 
      action: 'Effect Action', 
      actionKey: 'A Key', 
      release: 'Release Effect', 
      releaseKey: 'S Key, or re-select effect', 
      discard: 'Discard Effect', 
      discardKey: 'D Key in the door room', 
      screenshots: 'SS', 
      download: 'Download', 
      downloadText: 'Current latest version is',
      version: '0.8.0 a',
      versionSuffix: '.',
      downloadLink: 'Download from the link below.',
      downloadButton: 'ver.0.8.0a' 
    },
    unrequited: { 
      title: 'UnRequited', 
      description: 'A fan game based on Yume Nikki.', 
      gameInfo: 'Game Information',
      effectCount: 'Current effect count:',
      effectTotal: '14/18',
      edCount: 'ED count:',
      edTotal: '0/0',
      implemented: 'implemented',
      period: '.',
      howToPlay: 'How to Play',
      gameplay1: 'This is a game where you walk around in a dream.',
      gameplay2: 'You can enter the dream by examining the bed.',
      gameplay3: 'You can save from the computer on the desk.',
      gameplay4: 'You can get Scars (effects) by examining specific objects in the dream.',
      controls: 'Controls', 
      move: 'Move', 
      moveKey: 'Arrow Keys or Numpad', 
      decide: 'Decide', 
      decideKey: 'Z Key, Space Key, or Enter Key', 
      cancel: 'Cancel, Menu', 
      cancelKey: 'X Key or Esc Key', 
      favorite: 'Favorite Effect', 
      favoriteKey: 'F Key', 
      action: 'Effect Action', 
      actionKey: 'Sub Key (C Key, Shift Key)', 
      release: 'Release Effect', 
      releaseKey: 'A Key, or re-select effect', 
      discard: 'Discard Effect', 
      discardKey: 'Not implemented', 
      screenshots: 'SS', 
      download: 'Download', 
      downloadTextJp: 'Current latest version (Japanese):',
      downloadTextEn: 'Current latest version (English):',
      versionJp: '0.0.6 a',
      versionEn: '0.0.4 b ENG',
      versionSuffix: '.',
      downloadLink: 'Download from the link below.',
      downloadButtonJp: 'ver.0.0.6a', 
      downloadButtonEn: 'ver.0.0.4b ENG',
      englishVersion: 'English version is here.' 
    },
    footer: { 
      copyright: '© 2011 Nekonoha. All rights reserved.' 
    },
    gallery: { 
      title: 'GALLERY', 
      twitter: 'Twitter', 
      pixiv: 'pixiv', 
      pixivDescription: 'My illustrations and manga.', 
      visitPixiv: 'Visit pixiv', 
      soundcloud: 'SoundCloud', 
      soundcloudDescription: 'Listen to my music.' 
    },
    playBoard: {
      description: 'Online multiplayer board games platform. Play Hexxagon and other games with friends in real-time.'
    },
    settings: {
      title: 'Settings',
      theme: 'Theme',
      themes: {
        luxury: 'Luxury',
        light: 'Light',
        dark: 'Dark',
        modern: 'Modern',
        system: 'System',
        cyber: 'Cyber',
        forest: 'Forest',
        sunset: 'Sunset',
        lavender: 'Lavender',
        ocean: 'Ocean',
        aurora: 'Aurora',
        blush: 'Blush',
        mint: 'Mint',
        midnight: 'Midnight',
        sunrise: 'Sunrise',
        ember: 'Ember',
        sakura: 'Sakura',
        lagoon: 'Lagoon',
        golden: 'Golden'
      },
      themeDescriptions: {
        system: 'Follows your OS setting',
        luxury: 'Rich browns with warm gold',
        light: 'Bright ivory with soft contrast',
        dark: 'Deep navy with violet glow',
        modern: 'Neon teal on midnight base',
        cyber: 'Neon green and magenta on black',
        forest: 'Lush greens inspired by woods',
        sunset: 'Warm dusk oranges and reds',
        lavender: 'Soft purples with gentle highlights',
        ocean: 'Deep sea blues with crisp cyan',
        aurora: 'Aurora greens and purples on night sky',
        blush: 'Smoky rose and blush pink',
        mint: 'Fresh mint greens and teal',
        midnight: 'Midnight blue with starlight accents',
        sunrise: 'Amber sunrise glow with orange',
        ember: 'Campfire amber over charcoal',
        sakura: 'Gentle sakura pink tones',
        lagoon: 'Lagoon teal with seafoam',
        golden: 'Classic gold with dark umber'
      },
      light: 'Light',
      dark: 'Dark',
      modern: 'Modern',
      system: 'System',
      currentTheme: 'Current theme',
      moreThemes: 'Show more themes',
      hideThemes: 'Hide extra themes',
      language: 'Language',
      fontSize: 'Font Size',
      motion: 'Motion',
      reduceMotion: 'Reduce motion',
      reset: 'Reset settings',
      confirmReset: 'Reset all settings?'
    }
  }
}

export const useLocale = () => {
  const t = (key: string): string => {
    const keys = key.split('.')
    let value: any = translations[currentLocale.value]
    
    for (const k of keys) {
      value = value?.[k]
    }
    
    return value || key
  }

  const setLocale = (locale: Locale) => {
    currentLocale.value = locale
  }

  const locale = computed(() => currentLocale.value)

  return {
    t,
    setLocale,
    locale
  }
}
